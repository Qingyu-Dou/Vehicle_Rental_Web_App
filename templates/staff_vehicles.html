{% extends "base.html" %}

{% block title %}Manage Vehicles{% endblock %}

{% block content %}
<div class="staff-page">
    <h1>Manage Vehicles</h1>
    
    <div class="page-actions">
        <a href="{{ url_for('staff_add_vehicle') }}" class="btn btn-primary">Add New Vehicle</a>
    </div>
    
    <table class="data-table">
        <thead>
            <tr>
                <th>Vehicle ID</th>
                <th>Type</th>
                <th>Make</th>
                <th>Model</th>
                <th>Year</th>
                <th>Daily Rate</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for vehicle in vehicles %}
            <tr>
                <td>{{ vehicle.get_vehicle_id() }}</td>
                <td>{{ vehicle.get_vehicle_type() }}</td>
                <td>{{ vehicle.get_make() }}</td>
                <td>{{ vehicle.get_model() }}</td>
                <td>{{ vehicle.get_year() }}</td>
                <td>${{ "%.2f"|format(vehicle.get_daily_rate()) }}</td>
                <td>
                    {% if vehicle.is_currently_rented() %}
                    <span class="status-rented">Rented</span>
                    {% else %}
                    <span class="status-available">Available</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ url_for('vehicle_detail', vehicle_id=vehicle.get_vehicle_id()) }}" 
                       class="btn btn-small">View</a>
                    {% if not vehicle.is_currently_rented() %}
                    <a href="{{ url_for('staff_delete_vehicle', vehicle_id=vehicle.get_vehicle_id()) }}" 
                       class="btn btn-small btn-danger"
                       onclick="return confirm('Delete this vehicle?')">Delete</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <div class="action-buttons">
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</div>
{% endblock %}
