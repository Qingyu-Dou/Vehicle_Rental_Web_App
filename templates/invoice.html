{% extends "base.html" %}

{% block title %}Rental Invoice{% endblock %}

{% block content %}
<div class="invoice-page">
    <div class="invoice">
        <h1>Rental Invoice</h1>
        <p class="invoice-date">Rental Date: {{ rental.start_date }}</p>
        
        <div class="invoice-section">
            <h2>Customer Information</h2>
            <p><strong>Name:</strong> {{ user.get_name() }}</p>
            <p><strong>ID:</strong> {{ user.get_renter_id() }}</p>
            <p><strong>Type:</strong> {{ user.get_user_type() }}</p>
            <p><strong>Contact:</strong> {{ user.get_contact_info() }}</p>
        </div>
        
        <div class="invoice-section">
            <h2>Vehicle Information</h2>
            <p><strong>Vehicle:</strong> {{ vehicle.get_year() }} {{ vehicle.get_make() }} {{ vehicle.get_model() }}</p>
            <p><strong>Vehicle ID:</strong> {{ vehicle.get_vehicle_id() }}</p>
            <p><strong>Type:</strong> {{ vehicle.get_vehicle_type() }}</p>
            <p><strong>Daily Rate:</strong> ${{ "%.2f"|format(vehicle.get_daily_rate()) }}</p>
        </div>
        
        <div class="invoice-section">
            <h2>Rental Details</h2>
            <p><strong>Start Date:</strong> {{ rental.start_date }}</p>
            <p><strong>End Date:</strong> {{ rental.end_date }}</p>
            <p><strong>Duration:</strong> {{ rental.duration }} days</p>
            <p><strong>Status:</strong> {{ rental.status|upper }}</p>
        </div>
        
        <div class="invoice-section">
            <h2>Payment Summary</h2>
            <table class="invoice-table">
                <tr class="total-row">
                    <td><strong>Total Amount:</strong></td>
                    <td><strong>${{ "%.2f"|format(rental.cost) }}</strong></td>
                </tr>
            </table>
            <p class="invoice-note">* Price includes applicable discounts and GST (5%)</p>
        </div>
        
        <div class="invoice-actions">
            <button onclick="window.print()" class="btn btn-primary">Print Invoice</button>
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
        </div>
    </div>
</div>

<style>
.invoice-note {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
}
</style>
{% endblock %}