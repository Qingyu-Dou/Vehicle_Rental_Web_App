{% extends "base.html" %}

{% block title %}Add Vehicle{% endblock %}

{% block content %}
<div class="staff-page">
    <h1>Add New Vehicle</h1>
    
    <form method="POST" enctype="multipart/form-data" class="staff-form" id="addVehicleForm">
        <div class="form-group">
            <label for="vehicle_type">Vehicle Type:</label>
            <select id="vehicle_type" name="vehicle_type" required onchange="toggleVehicleFields()">
                <option value="">Select Type</option>
                <option value="Car">Car</option>
                <option value="Motorbike">Motorbike</option>
                <option value="Truck">Truck</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="vehicle_id">Vehicle ID:</label>
            <input type="text" id="vehicle_id" name="vehicle_id" required>
        </div>
        
        <div class="form-group">
            <label for="make">Make:</label>
            <input type="text" id="make" name="make" required>
        </div>
        
        <div class="form-group">
            <label for="model">Model:</label>
            <input type="text" id="model" name="model" required>
        </div>
        
        <div class="form-group">
            <label for="year">Year:</label>
            <input type="number" id="year" name="year" min="1990" max="2030" required>
        </div>
        
        <div class="form-group">
            <label for="daily_rate">Daily Rate ($):</label>
            <input type="number" id="daily_rate" name="daily_rate" step="0.01" min="0" required>
        </div>

        <div class="form-group">
            <label for="vehicle_image">Vehicle Image:</label>
            <input type="file" id="vehicle_image" name="vehicle_image" accept="image/*">
            <small style="display: block; margin-top: 5px; color: #666;">
                Supported formats: JPG, PNG, GIF (Max 16MB). Recommended naming: {Vehicle_ID}.jpg
            </small>
        </div>

        <!-- Car Fields -->
        <div id="car_fields" style="display:none;">
            <h3>Car Details</h3>
            <div class="form-group">
                <label for="doors">Number of Doors:</label>
                <select id="doors" name="doors">
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected>4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="form-group">
                <label for="fuel">Fuel Type:</label>
                <select id="fuel" name="fuel">
                    <option value="Petrol">Petrol</option>
                    <option value="Diesel">Diesel</option>
                    <option value="Electric">Electric</option>
                    <option value="Hybrid">Hybrid</option>
                </select>
            </div>
            <div class="form-group">
                <label for="transmission">Transmission:</label>
                <select id="transmission" name="transmission">
                    <option value="Manual">Manual</option>
                    <option value="Automatic">Automatic</option>
                    <option value="CVT">CVT</option>
                </select>
            </div>
        </div>
        
        <!-- Motorbike Fields -->
        <div id="motorbike_fields" style="display:none;">
            <h3>Motorbike Details</h3>
            <div class="form-group">
                <label for="engine">Engine Capacity (cc):</label>
                <input type="number" id="engine" name="engine" min="50" max="2000">
            </div>
            <div class="form-group">
                <label for="bike_type">Bike Type:</label>
                <select id="bike_type" name="bike_type">
                    <option value="Sport">Sport</option>
                    <option value="Cruiser">Cruiser</option>
                    <option value="Touring">Touring</option>
                    <option value="Adventure">Adventure</option>
                    <option value="Standard">Standard</option>
                </select>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="has_abs" name="has_abs">
                    Has ABS Braking
                </label>
            </div>
        </div>
        
        <!-- Truck Fields -->
        <div id="truck_fields" style="display:none;">
            <h3>Truck Details</h3>
            <div class="form-group">
                <label for="capacity">Load Capacity (tonnes):</label>
                <input type="number" id="capacity" name="capacity" step="0.1" min="0" max="50">
            </div>
            <div class="form-group">
                <label for="truck_type">Truck Type:</label>
                <select id="truck_type" name="truck_type">
                    <option value="Light">Light</option>
                    <option value="Medium">Medium</option>
                    <option value="Heavy">Heavy</option>
                    <option value="Box">Box</option>
                    <option value="Flatbed">Flatbed</option>
                </select>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="has_lift" name="has_lift">
                    Has Hydraulic Lift
                </label>
            </div>
        </div>
        
        <div class="form-actions">
            <a href="{{ url_for('staff_vehicles') }}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Add Vehicle</button>
        </div>
    </form>
</div>

<script>
function toggleVehicleFields() {
    var vehicleType = document.getElementById('vehicle_type').value;
    document.getElementById('car_fields').style.display = vehicleType === 'Car' ? 'block' : 'none';
    document.getElementById('motorbike_fields').style.display = vehicleType === 'Motorbike' ? 'block' : 'none';
    document.getElementById('truck_fields').style.display = vehicleType === 'Truck' ? 'block' : 'none';
}
</script>
{% endblock %}
